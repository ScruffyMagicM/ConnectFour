{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useAppState.ts"],"sourcesContent":["import { GameStatus } from \"../types/game.types\";\r\nimport { useState } from 'react';\r\n\r\nexport const useAppState = () => {\r\n  const [gameStatus, setGameStatus] = useState<GameStatus>('lobby');\r\n  const [roomId, setRoomId] = useState<number | null>(null);\r\n  const [message, setMessage] = useState('');\r\n  const [currentPlayer, setCurrentPlayer] = useState<number | null>(null);\r\n  const [justQuitGame, setJustQuitGame] = useState<boolean>(false);\r\n\r\n  return {\r\n    gameStatus,\r\n    setGameStatus,\r\n    message,\r\n    setMessage,\r\n    roomId,\r\n    setRoomId,\r\n    currentPlayer,\r\n    setCurrentPlayer,\r\n    justQuitGame,\r\n    setJustQuitGame,\r\n  };\r\n};"],"names":[],"mappings":";;;;AACA;;;AAEO,MAAM,cAAc;;IACzB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,mLAAQ,EAAa;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mLAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mLAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mLAAQ,EAAgB;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mLAAQ,EAAU;IAE1D,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAnBa","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/config/api.config.ts"],"sourcesContent":["export const API_CONFIG = {\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n"],"names":[],"mappings":";;;;AACW;AADJ,MAAM,aAAa;IACxB,SAAS,qLAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/utils/apiClient.ts"],"sourcesContent":["import { ApiResponse, ApiError } from '../types/api.types';\r\nimport { API_CONFIG } from '../config/api.config';\r\n\r\nclass ApiClient {\r\n  private baseURL: string;\r\n  private timeout: number;\r\n  private defaultHeaders: Record<string, string>;\r\n\r\n  constructor(baseURL: string, timeout: number, headers: Record<string, string>) {\r\n    this.baseURL = baseURL;\r\n    this.timeout = timeout;\r\n    this.defaultHeaders = headers;\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), this.timeout);\r\n\r\n    try {\r\n      const response = await fetch(`${this.baseURL}${endpoint}`, {\r\n        ...options,\r\n        headers: {\r\n          ...this.defaultHeaders,\r\n          ...options.headers\r\n        },\r\n        signal: controller.signal,\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (!response.ok) {\r\n        const error: ApiError = await response.json();\r\n        throw new Error(error.message || 'API request failed');\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n      \r\n      if (error instanceof Error) {\r\n        if (error.name === 'AbortError') {\r\n          throw new Error('Request timeout');\r\n        }\r\n        throw error;\r\n      }\r\n      throw new Error('Unknown error occurred');\r\n    }\r\n  }\r\n\r\n  async get<T>(endpoint: string, socketId: string, params?: Record<string, string>): Promise<ApiResponse<T>> {\r\n    const queryString = params\r\n      ? '?' + new URLSearchParams(params).toString()\r\n      : '';\r\n    return this.request<T>(`${endpoint}${queryString}`, {\r\n      method: 'GET',\r\n      headers: { 'x-socket-id': socketId },\r\n    });\r\n  }\r\n\r\n  async post<T>(endpoint: string, socketId: string, data?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: { 'x-socket-id': socketId },\r\n    });\r\n  }\r\n\r\n  async put<T>(endpoint: string, socketId: string, data?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n      headers: { 'x-socket-id': socketId },\r\n    });\r\n  }\r\n\r\n  async delete<T>(endpoint: string, socketId: string): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'DELETE',\r\n      headers: { 'x-socket-id': socketId },\r\n    });\r\n  }\r\n\r\n  async patch<T>(endpoint: string, socketId: string, data?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n      headers: { 'x-socket-id': socketId },\r\n    });\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient(\r\n  API_CONFIG.baseURL,\r\n  API_CONFIG.timeout,\r\n  API_CONFIG.headers\r\n);\r\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,MAAM;IAWJ,MAAc,QACZ,QAAgB,EAES;YADzB,UAAA,iEAAuB,CAAC;QAExB,MAAM,aAAa,IAAI;QACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI,IAAI,CAAC,OAAO;QAEnE,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAiB,OAAf,IAAI,CAAC,OAAO,EAAY,OAAT,WAAY;gBACzD,GAAG,OAAO;gBACV,SAAS;oBACP,GAAG,IAAI,CAAC,cAAc;oBACtB,GAAG,QAAQ,OAAO;gBACpB;gBACA,QAAQ,WAAW,MAAM;YAC3B;YAEA,aAAa;YAEb,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAkB,MAAM,SAAS,IAAI;gBAC3C,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;YACnC;YAEA,OAAO,MAAM,SAAS,IAAI;QAC5B,EAAE,OAAO,OAAO;YACd,aAAa;YAEb,IAAI,iBAAiB,OAAO;gBAC1B,IAAI,MAAM,IAAI,KAAK,cAAc;oBAC/B,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM;YACR;YACA,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,MAAM,IAAO,QAAgB,EAAE,QAAgB,EAAE,MAA+B,EAA2B;QACzG,MAAM,cAAc,SAChB,MAAM,IAAI,gBAAgB,QAAQ,QAAQ,KAC1C;QACJ,OAAO,IAAI,CAAC,OAAO,CAAI,AAAC,GAAa,OAAX,UAAuB,OAAZ,cAAe;YAClD,QAAQ;YACR,SAAS;gBAAE,eAAe;YAAS;QACrC;IACF;IAEA,MAAM,KAAQ,QAAgB,EAAE,QAAgB,EAAE,IAAc,EAA2B;QACzF,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;YACrB,SAAS;gBAAE,eAAe;YAAS;QACrC;IACF;IAEA,MAAM,IAAO,QAAgB,EAAE,QAAgB,EAAE,IAAc,EAA2B;QACxF,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;YACrB,SAAS;gBAAE,eAAe;YAAS;QACrC;IACF;IAEA,MAAM,OAAU,QAAgB,EAAE,QAAgB,EAA2B;QAC3E,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,SAAS;gBAAE,eAAe;YAAS;QACrC;IACF;IAEA,MAAM,MAAS,QAAgB,EAAE,QAAgB,EAAE,IAAc,EAA2B;QAC1F,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;YACrB,SAAS;gBAAE,eAAe;YAAS;QACrC;IACF;IAnFA,YAAY,OAAe,EAAE,OAAe,EAAE,OAA+B,CAAE;QAJ/E,yLAAQ,WAAR,KAAA;QACA,yLAAQ,WAAR,KAAA;QACA,yLAAQ,kBAAR,KAAA;QAGE,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,cAAc,GAAG;IACxB;AAgFF;AAEO,MAAM,YAAY,IAAI,UAC3B,gKAAU,CAAC,OAAO,EAClB,gKAAU,CAAC,OAAO,EAClB,gKAAU,CAAC,OAAO","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/services/lobbyAPIService.ts"],"sourcesContent":["import { apiClient } from '../utils/apiClient';\r\nimport { ApiResponse } from '../types/api.types';\r\nimport { GameIndexDTO, GameStateDTO } from '../types/game.types';\r\n\r\nexport class LobbyAPIService {\r\n  private readonly basePath = '/lobby';\r\n\r\n    async getGames(socketId: string): Promise<ApiResponse<GameIndexDTO[]>> {\r\n        return apiClient.get<GameIndexDTO[]>(`${this.basePath}`, socketId);\r\n    }\r\n\r\n    async getGame(gameId: number): Promise<ApiResponse<GameStateDTO>> {\r\n        return apiClient.get<GameStateDTO>(`${this.basePath}/getGame/${gameId}`, '');\r\n    }\r\n\r\n    async createGame(gameName: string, socketId: string): Promise<ApiResponse<GameIndexDTO>> {\r\n        return apiClient.post<GameIndexDTO>(`${this.basePath}/create`, socketId, {\r\n            gameName,\r\n        });\r\n    }\r\n\r\n    async quitGame(playerId: number, gameId: number, socketId: string): Promise<ApiResponse<void>> {\r\n        return apiClient.post<void>(`${this.basePath}/quit`, socketId, {\r\n            playerId,\r\n            gameId,\r\n        });\r\n    }\r\n}\r\n\r\nexport const lobbyApiService = new LobbyAPIService();"],"names":[],"mappings":";;;;;;;AAAA;;;AAIO,MAAM;IAGT,MAAM,SAAS,QAAgB,EAAwC;QACnE,OAAO,0JAAS,CAAC,GAAG,CAAiB,AAAC,GAAgB,OAAd,IAAI,CAAC,QAAQ,GAAI;IAC7D;IAEA,MAAM,QAAQ,MAAc,EAAsC;QAC9D,OAAO,0JAAS,CAAC,GAAG,CAAe,AAAC,GAA2B,OAAzB,IAAI,CAAC,QAAQ,EAAC,aAAkB,OAAP,SAAU;IAC7E;IAEA,MAAM,WAAW,QAAgB,EAAE,QAAgB,EAAsC;QACrF,OAAO,0JAAS,CAAC,IAAI,CAAe,AAAC,GAAgB,OAAd,IAAI,CAAC,QAAQ,EAAC,YAAU,UAAU;YACrE;QACJ;IACJ;IAEA,MAAM,SAAS,QAAgB,EAAE,MAAc,EAAE,QAAgB,EAA8B;QAC3F,OAAO,0JAAS,CAAC,IAAI,CAAO,AAAC,GAAgB,OAAd,IAAI,CAAC,QAAQ,EAAC,UAAQ,UAAU;YAC3D;YACA;QACJ;IACJ;;QArBF,yLAAiB,YAAW;;AAsB9B;AAEO,MAAM,kBAAkB,IAAI","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useLobbySocket.ts"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\ninterface LobbySocketCallbacks {\r\n  onGameCreated: (data: { roomName: string; gameId: number }) => void;\r\n  onPlayerJoined: (data: { gameId: number; playerId: number }) => void;\r\n  onPlayerQuit: (data: { gameId: number; playerId: number }) => void;\r\n}\r\n\r\nexport const useLobbySocket = (socket: Socket | null, callbacks: LobbySocketCallbacks) => {\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on('gameCreated', callbacks.onGameCreated);\r\n    socket.on('playerJoined', callbacks.onPlayerJoined);\r\n    socket.on('playerQuit', callbacks.onPlayerQuit);\r\n\r\n    return () => {\r\n      socket.off('gameCreated', callbacks.onGameCreated);\r\n      socket.off('playerJoined', callbacks.onPlayerJoined);\r\n      socket.off('playerQuit', callbacks.onPlayerQuit);\r\n    };\r\n  }, [socket, callbacks]);\r\n\r\n  const createGame = (name: string) => {\r\n    socket?.emit('gameCreated', { name });\r\n  };\r\n\r\n  const joinGame = (roomId: number, playerId: number) => {\r\n    socket?.emit('playerJoined', { roomId: roomId, playerId: playerId });\r\n  };\r\n\r\n  const quitGame = (roomId: number, playerId: number) => {\r\n    socket?.emit('playerQuit', { roomId, playerId });\r\n  }\r\n\r\n  return { createGame, joinGame, quitGame };\r\n};"],"names":[],"mappings":";;;;AAAA;;;AASO,MAAM,iBAAiB,CAAC,QAAuB;;IAEpD,IAAA,oLAAS;oCAAC;YACR,IAAI,CAAC,QAAQ;YAEb,OAAO,EAAE,CAAC,eAAe,UAAU,aAAa;YAChD,OAAO,EAAE,CAAC,gBAAgB,UAAU,cAAc;YAClD,OAAO,EAAE,CAAC,cAAc,UAAU,YAAY;YAE9C;4CAAO;oBACL,OAAO,GAAG,CAAC,eAAe,UAAU,aAAa;oBACjD,OAAO,GAAG,CAAC,gBAAgB,UAAU,cAAc;oBACnD,OAAO,GAAG,CAAC,cAAc,UAAU,YAAY;gBACjD;;QACF;mCAAG;QAAC;QAAQ;KAAU;IAEtB,MAAM,aAAa,CAAC;QAClB,mBAAA,6BAAA,OAAQ,IAAI,CAAC,eAAe;YAAE;QAAK;IACrC;IAEA,MAAM,WAAW,CAAC,QAAgB;QAChC,mBAAA,6BAAA,OAAQ,IAAI,CAAC,gBAAgB;YAAE,QAAQ;YAAQ,UAAU;QAAS;IACpE;IAEA,MAAM,WAAW,CAAC,QAAgB;QAChC,mBAAA,6BAAA,OAAQ,IAAI,CAAC,cAAc;YAAE;YAAQ;QAAS;IAChD;IAEA,OAAO;QAAE;QAAY;QAAU;IAAS;AAC1C;GA7Ba","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useSocketConnection.ts"],"sourcesContent":["// Base hook that manages the socket connection itself\r\nimport { useEffect, useState } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\nlet socket: Socket;\r\n\r\nexport const useSocketConnection = () => {  \r\n  if (!socket) {\r\n    socket = io('http://localhost:3001', {\r\n      autoConnect: false,\r\n      reconnection: true,\r\n      reconnectionDelay: 1000,\r\n      reconnectionAttempts: 5\r\n    });\r\n  }\r\n  return socket;\r\n};\r\n\r\n/*  const [socket, setSocket] = useState<Socket | null>(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const newSocket = io('http://localhost:3001');\r\n    setSocket(newSocket);\r\n\r\n    newSocket.on('connect', () => {\r\n      setIsConnected(true);\r\n      console.log('Socket connected');\r\n    });\r\n\r\n    newSocket.on('disconnect', () => {\r\n      setIsConnected(false);\r\n      console.log('Socket disconnected');\r\n    });\r\n\r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return { socket, isConnected };\r\n};*/\r\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;AAEtD;;AAEA,IAAI;AAEG,MAAM,sBAAsB;IACjC,IAAI,CAAC,QAAQ;QACX,SAAS,IAAA,kMAAE,EAAC,yBAAyB;YACnC,aAAa;YACb,cAAc;YACd,mBAAmB;YACnB,sBAAsB;QACxB;IACF;IACA,OAAO;AACT,GAEA;;;;;;;;;;;;;;;;;;;;;;;EAuBE","debugId":null}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/components/lobby.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport type { GameIndexDTO } from \"../types/game.types\";\r\nimport { lobbyApiService } from \"../services/lobbyAPIService\";\r\nimport { useLobbySocket } from \"../hooks/useLobbySocket\";\r\nimport { useAppState } from \"../hooks/useAppState\";\r\nimport { useSocketConnection } from \"../hooks/useSocketConnection\";\r\n\r\nexport default function Lobby({ enterGame, setMessage }: { enterGame: (gameId: number | null, playerId: number | null) => void, setMessage: (message: string) => void }) {\r\n  const {\r\n    roomId,\r\n    setRoomId,\r\n    currentPlayer,\r\n    setCurrentPlayer,\r\n    justQuitGame,\r\n    setJustQuitGame,\r\n  } = useAppState();\r\n\r\n  const [games, setGames] = useState<GameIndexDTO[]>([]);\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const socket = useSocketConnection();\r\n\r\n  // Lobby-specific socket events and actions\r\n  const { } = useLobbySocket(socket, {\r\n    onGameCreated: (data) => {\r\n      setGames(prevGames => [...prevGames, {\r\n        id: data.gameId,\r\n        name: data.roomName,\r\n        players: 0,\r\n        completed: false\r\n      }]);\r\n    },\r\n    onPlayerJoined: (data) => {\r\n      setGames(prevGames =>\r\n        prevGames.map(game =>\r\n          game.id === data.gameId\r\n            ? { ...game, players: game.players + 1 }\r\n            : game\r\n        ));\r\n    },\r\n    onPlayerQuit: (data) => {\r\n      setGames(prevGames =>\r\n        prevGames.map(game =>\r\n          game.id === data.gameId\r\n            ? { ...game, players: game.players - 1 }\r\n            : game\r\n        ));\r\n    },\r\n  });\r\n\r\n  const clickJoinGame = (gameId: number) => {\r\n    const game = games.find(game => game.id === gameId);\r\n    if (game === undefined || game.players > 1) return;\r\n    lobbyApiService.getGame(gameId).then(response => {\r\n      if (response.data) {\r\n        setMessage(`Joining game ${game.name}!`);\r\n        setCurrentPlayer(game.players + 1);\r\n        setRoomId(gameId);\r\n        socket.disconnect();\r\n        setMessage(`Joined game ${game.name}!`);\r\n        enterGame(gameId, game.players + 1);\r\n      }\r\n    });\r\n  };\r\n\r\n  const makeGame = () => {\r\n    //Open prompt to create game\r\n    const gameName = prompt(\"Enter a name for your game:\");\r\n\r\n    if (!gameName && gameName !== \"\") {\r\n      return;\r\n    }\r\n\r\n    const tempName = `Game_${Math.floor(Math.random() * 1000)}`;\r\n\r\n    lobbyApiService.createGame(gameName ? gameName : tempName, socket.id!).then(response => {\r\n      if (response.data) {\r\n        setMessage(`Game \"${gameName ? gameName : tempName}\" created!`);\r\n        setGames(prevGames => [...prevGames, response.data]);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (justQuitGame === true) {\r\n      setJustQuitGame(false);\r\n    }\r\n  }, [justQuitGame]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Connecting socket...\");\r\n    socket.connect();\r\n    console.log(\"Socket connected.\");\r\n    console.log(\"Fetching games list from lobby...\");\r\n    lobbyApiService.getGames(socket.id!).then(response => {\r\n      console.log(\"Got lobby...\");\r\n      const newGames: GameIndexDTO[] = [];\r\n      if (response.data) {\r\n        response.data.forEach(game => {\r\n          newGames.push(game);\r\n        });\r\n      }\r\n      setGames(newGames);\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"lobby text-black\">\r\n      {!isLoading &&\r\n        <ul className=\"game-list\">\r\n          <GamesList games={games} joinGame={clickJoinGame} />\r\n        </ul>\r\n      }\r\n      <button className=\"lobby-button px-4 py-2 border rounded bg-blue-500 text-white hover:bg-blue-600\" onClick={() => makeGame()}>Create Game</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function GamesList({ games, joinGame }: { games: GameIndexDTO[], joinGame: (gameId: number) => void }) {\r\n  return (\r\n    <div className=\"grid grid-cols-[1fr_auto_auto] gap-4 items-center mb-4\">\r\n      {/* Header Row */}\r\n      <div className=\"font-bold\">Game Name</div>\r\n      <div className=\"font-bold\">Players</div>\r\n      <div className=\"font-bold\">Action</div>\r\n\r\n      {/* Game Rows */}\r\n      {games.map(game => (\r\n        <>\r\n          <div key={`${game.id}-name`}>{game.name}</div>\r\n          <div key={`${game.id}-players`}>{game.players ?? 0}/2</div>\r\n          <button\r\n            hidden={game.completed || game.players >= 2}\r\n            key={`${game.id}-button`}\r\n            className=\"join-button px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600\"\r\n            onClick={() => joinGame(game.id)}\r\n          >\r\n            Join\r\n          </button>\r\n          <div key={`${game.id}-full`} hidden={game.players < 2}>Full</div>\r\n        </>\r\n      ))}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/services/gameAPIService.ts"],"sourcesContent":["import { apiClient } from '../utils/apiClient';\r\nimport { ApiResponse } from '../types/api.types';\r\nimport { GameStateDTO } from '../types/game.types';\r\n\r\nexport class GameService {\r\n  private readonly basePath = '/game';\r\n\r\n    async getGame(gameId: number, socketId: string): Promise<ApiResponse<GameStateDTO>> {\r\n        return apiClient.get<GameStateDTO>(`${this.basePath}/${gameId}`, socketId);\r\n    }\r\n\r\n    async joinGame(playerId: number, gameId: number, socketId: string): Promise<ApiResponse<GameStateDTO>> {\r\n      return apiClient.post<GameStateDTO>(`${this.basePath}/join`, socketId, {\r\n        playerId,\r\n        gameId,\r\n      });\r\n    }\r\n\r\n    async updateGameState(gameId: number, move: number, playerId: number, socketId: string): Promise<ApiResponse<number>> {\r\n    return apiClient.post<number>(`${this.basePath}/updateGameState`, socketId, {\r\n        gameId, \r\n        move,\r\n        playerId,\r\n        });\r\n    }\r\n\r\n    async quitGame(gameId: number, playerId: number, socketId: string): Promise<ApiResponse<number>> {\r\n      return apiClient.post<number>(`${this.basePath}/quitGame`, socketId, {\r\n        gameId: gameId,\r\n        playerId: playerId,\r\n      });\r\n    }\r\n}\r\n\r\nexport const gameApiService = new GameService();"],"names":[],"mappings":";;;;;;;AAAA;;;AAIO,MAAM;IAGT,MAAM,QAAQ,MAAc,EAAE,QAAgB,EAAsC;QAChF,OAAO,0JAAS,CAAC,GAAG,CAAe,AAAC,GAAmB,OAAjB,IAAI,CAAC,QAAQ,EAAC,KAAU,OAAP,SAAU;IACrE;IAEA,MAAM,SAAS,QAAgB,EAAE,MAAc,EAAE,QAAgB,EAAsC;QACrG,OAAO,0JAAS,CAAC,IAAI,CAAe,AAAC,GAAgB,OAAd,IAAI,CAAC,QAAQ,EAAC,UAAQ,UAAU;YACrE;YACA;QACF;IACF;IAEA,MAAM,gBAAgB,MAAc,EAAE,IAAY,EAAE,QAAgB,EAAE,QAAgB,EAAgC;QACtH,OAAO,0JAAS,CAAC,IAAI,CAAS,AAAC,GAAgB,OAAd,IAAI,CAAC,QAAQ,EAAC,qBAAmB,UAAU;YACxE;YACA;YACA;QACA;IACJ;IAEA,MAAM,SAAS,MAAc,EAAE,QAAgB,EAAE,QAAgB,EAAgC;QAC/F,OAAO,0JAAS,CAAC,IAAI,CAAS,AAAC,GAAgB,OAAd,IAAI,CAAC,QAAQ,EAAC,cAAY,UAAU;YACnE,QAAQ;YACR,UAAU;QACZ;IACF;;QA1BF,yLAAiB,YAAW;;AA2B9B;AAEO,MAAM,iBAAiB,IAAI","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useGameSocket.ts"],"sourcesContent":["// Hook specifically for in-game socket events\r\nimport { useEffect } from 'react';\r\nimport { Socket } from 'socket.io-client';\r\nimport { GameStateDTO } from '../types/game.types';\r\n\r\ninterface GameSocketCallbacks {\r\n    onGameStateUpdate: (data: { game: GameStateDTO }) => void;\r\n    onPlayerJoinedGame: (data: { gameId: number; playerId: number }) => void;\r\n    onPlayerQuitGame: (data: { gameId: number; playerId: number }) => void;\r\n}\r\n\r\nexport const useGameSocket = (\r\n  socket: Socket | null,\r\n  callbacks: GameSocketCallbacks\r\n) => {\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on('gameStateUpdate', callbacks.onGameStateUpdate);\r\n    socket.on('playerJoinedGame', callbacks.onPlayerJoinedGame);\r\n    socket.on('playerQuitGame', callbacks.onPlayerQuitGame);\r\n\r\n    return () => {\r\n      socket.off('gameStateUpdate', callbacks.onGameStateUpdate);\r\n      socket.off('playerJoinedGame', callbacks.onPlayerJoinedGame);\r\n      socket.off('playerQuitGame', callbacks.onPlayerQuitGame);\r\n    };\r\n  }, [socket, callbacks]);\r\n\r\n  //Rewrite to use REST call, then just have the callbacks after server does full emit?\r\n\r\n  const playerJoinedGame = (playerId: number) => {\r\n    socket?.emit('playerJoinedGame', { playerId });\r\n  };\r\n\r\n  const playerQuitGame = (playerId: number) => {\r\n    socket?.emit('playerQuitGame', { playerId });\r\n  };\r\n\r\n  const updateGameState = (gameState: GameStateDTO) => {\r\n    socket?.emit('gameStateUpdate', { gameState });\r\n  };\r\n\r\n  return { playerJoinedGame, playerQuitGame,updateGameState };\r\n};\r\n"],"names":[],"mappings":"AAAA,8CAA8C;;;;;AAC9C;;;AAUO,MAAM,gBAAgB,CAC3B,QACA;;IAEA,IAAA,oLAAS;mCAAC;YACR,IAAI,CAAC,QAAQ;YAEb,OAAO,EAAE,CAAC,mBAAmB,UAAU,iBAAiB;YACxD,OAAO,EAAE,CAAC,oBAAoB,UAAU,kBAAkB;YAC1D,OAAO,EAAE,CAAC,kBAAkB,UAAU,gBAAgB;YAEtD;2CAAO;oBACL,OAAO,GAAG,CAAC,mBAAmB,UAAU,iBAAiB;oBACzD,OAAO,GAAG,CAAC,oBAAoB,UAAU,kBAAkB;oBAC3D,OAAO,GAAG,CAAC,kBAAkB,UAAU,gBAAgB;gBACzD;;QACF;kCAAG;QAAC;QAAQ;KAAU;IAEtB,qFAAqF;IAErF,MAAM,mBAAmB,CAAC;QACxB,mBAAA,6BAAA,OAAQ,IAAI,CAAC,oBAAoB;YAAE;QAAS;IAC9C;IAEA,MAAM,iBAAiB,CAAC;QACtB,mBAAA,6BAAA,OAAQ,IAAI,CAAC,kBAAkB;YAAE;QAAS;IAC5C;IAEA,MAAM,kBAAkB,CAAC;QACvB,mBAAA,6BAAA,OAAQ,IAAI,CAAC,mBAAmB;YAAE;QAAU;IAC9C;IAEA,OAAO;QAAE;QAAkB;QAAe;IAAgB;AAC5D;GAjCa","debugId":null}},
    {"offset": {"line": 671, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/components/board.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { gameApiService } from \"../services/gameAPIService\";\r\nimport Confetti from \"canvas-confetti\";\r\nimport { useGameSocket } from \"../hooks/useGameSocket\";\r\nimport { useSocketConnection } from \"../hooks/useSocketConnection\";\r\n\r\nexport default function Board({ gameId, playerId, setMessage, leaveGame }: { gameId: number | null; playerId: number | null; setMessage: (message: string) => void; leaveGame: (gameId: number | null, playerId: number | null) => void; }) {\r\n\r\n  const currGameId = gameId!;\r\n  const currPlayerId = playerId!;\r\n  const socket = useSocketConnection();\r\n\r\n  const { } = useGameSocket(socket, {\r\n    onPlayerJoinedGame(data) {\r\n      setMessage(`Player ${data.playerId} joined the game.`);\r\n    },\r\n    onPlayerQuitGame(data) {\r\n      setMessage(`Player ${data.playerId} quit the game.`);\r\n    },\r\n    onGameStateUpdate: (data) => {\r\n      setBoard(data.game.board);\r\n      setRowTop(findRowTop(data.game.board));\r\n      if (data.game.turn > 2) {\r\n        endGame(data.game.turn);\r\n      }\r\n      setTurn(data.game.turn);\r\n      if(data.game.turn === playerId)\r\n          setMessage('It\\'s your turn!');\r\n    }\r\n  });\r\n\r\n  //Update to use existing game state\r\n  const [board, setBoard] = useState<number[]>(Array(42));\r\n  const [rowTop, setRowTop] = useState(Array(7));\r\n  const [turn, setTurn] = useState(1);\r\n  const [confettiVisible, setConfettiVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('beforeunload', quitGame);\r\n\r\n    if (!socket) return;\r\n\r\n    socket.connect();\r\n\r\n    const handleConnect = () => {\r\n      gameApiService.joinGame(currPlayerId, currGameId, socket.id!).then(response => {\r\n        setBoard(response.data.board);\r\n        setTurn(response.data.turn);\r\n        setRowTop(findRowTop(response.data.board));\r\n      });\r\n    };\r\n\r\n    socket.on('connect', handleConnect);\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      socket.off('connect', handleConnect);\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  function findRowTop(board: number[]): number[] {\r\n    const tops: number[] = [];\r\n    for (let col = 0; col < 7; col++) {\r\n      let top = 5; // Start from the bottom row\r\n      while (top >= 0 && board[col + (top * 7)] !== 0) {\r\n        top--;\r\n      }\r\n      tops[col] = top;\r\n    }\r\n    return tops;\r\n  }\r\n\r\n  function findSingleRowTop(board: number[], column: number): number {\r\n    let top = 5; // Start from the bottom row\r\n    while (top >= 0 && board[column + (top * 7)] !== 0) {\r\n      top--;\r\n    }\r\n    return top;\r\n  }\r\n\r\n  function quitGame() {\r\n    gameApiService.quitGame(currGameId, currPlayerId, socket.id!).then(() => {\r\n      setMessage(`You quit the game.`);\r\n      leaveGame(currGameId, currPlayerId);\r\n    });\r\n  }\r\n\r\n  function handleSquareClick(column: number) {\r\n    if (turn !== currPlayerId) return; // not this player's turn\r\n\r\n    const id = column + (rowTop[column] * 7);\r\n\r\n    if (board[id] !== 0) return; // already filled\r\n\r\n    rowTop[column] -= 1;\r\n\r\n    // Submit new move to server here\r\n    gameApiService.updateGameState(currGameId, id, turn, socket.id!).then(response => {\r\n      const newSquares = board.slice();\r\n      newSquares[id] = turn;\r\n      setBoard(newSquares);\r\n      rowTop[column] = findSingleRowTop(newSquares, column);\r\n      setRowTop(rowTop);\r\n      if (response.data > 2) {\r\n        endGame(currPlayerId);\r\n      }\r\n    });\r\n\r\n    turn === 1 ? setTurn(2) : setTurn(1);\r\n\r\n    setMessage('It is your opponent\\'s turn');\r\n  }\r\n\r\n  function endGame(player: number) {\r\n    setTimeout(() => {\r\n      player = (player === 3 || player === 1) ? 1 : 2;\r\n      if(currPlayerId !== player)\r\n        alert(`You lose!`);\r\n      else\r\n      {\r\n        alert(`You win!`);\r\n        setConfettiVisible(true);\r\n      }\r\n      setConfettiVisible(false);\r\n      \r\n      // Show exit option\r\n      alert(\"Game over! Press OK to exit to lobby.\");\r\n      quitGame();\r\n    }, 300);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className={`current-turn-${turn}`}>Current Turn: Player {turn}</div>\r\n      <div className={`current-turn-${currPlayerId}`}>You are player {currPlayerId}</div>\r\n      <div className=\"board\">\r\n        <div className=\"board-row\">\r\n          <Square value={board[0]} onSquareClick={() => handleSquareClick(0)} />\r\n          <Square value={board[1]} onSquareClick={() => handleSquareClick(1)} />\r\n          <Square value={board[2]} onSquareClick={() => handleSquareClick(2)} />\r\n          <Square value={board[3]} onSquareClick={() => handleSquareClick(3)} />\r\n          <Square value={board[4]} onSquareClick={() => handleSquareClick(4)} />\r\n          <Square value={board[5]} onSquareClick={() => handleSquareClick(5)} />\r\n          <Square value={board[6]} onSquareClick={() => handleSquareClick(6)} />\r\n        </div>\r\n        <div className=\"board-row\">\r\n          <Square value={board[7]} onSquareClick={() => handleSquareClick(0)} />\r\n          <Square value={board[8]} onSquareClick={() => handleSquareClick(1)} />\r\n          <Square value={board[9]} onSquareClick={() => handleSquareClick(2)} />\r\n          <Square value={board[10]} onSquareClick={() => handleSquareClick(3)} />\r\n          <Square value={board[11]} onSquareClick={() => handleSquareClick(4)} />\r\n\r\n          <Square value={board[12]} onSquareClick={() => handleSquareClick(5)} />\r\n          <Square value={board[13]} onSquareClick={() => handleSquareClick(6)} />\r\n        </div>\r\n        <div className=\"board-row\">\r\n          <Square value={board[14]} onSquareClick={() => handleSquareClick(0)} />\r\n          <Square value={board[15]} onSquareClick={() => handleSquareClick(1)} />\r\n          <Square value={board[16]} onSquareClick={() => handleSquareClick(2)} />\r\n          <Square value={board[17]} onSquareClick={() => handleSquareClick(3)} />\r\n          <Square value={board[18]} onSquareClick={() => handleSquareClick(4)} />\r\n          <Square value={board[19]} onSquareClick={() => handleSquareClick(5)} />\r\n          <Square value={board[20]} onSquareClick={() => handleSquareClick(6)} />\r\n        </div>\r\n        <div className=\"board-row\">\r\n          <Square value={board[21]} onSquareClick={() => handleSquareClick(0)} />\r\n          <Square value={board[22]} onSquareClick={() => handleSquareClick(1)} />\r\n          <Square value={board[23]} onSquareClick={() => handleSquareClick(2)} />\r\n          <Square value={board[24]} onSquareClick={() => handleSquareClick(3)} />\r\n          <Square value={board[25]} onSquareClick={() => handleSquareClick(4)} />\r\n          <Square value={board[26]} onSquareClick={() => handleSquareClick(5)} />\r\n          <Square value={board[27]} onSquareClick={() => handleSquareClick(6)} />\r\n        </div>\r\n        <div className=\"board-row\">\r\n          <Square value={board[28]} onSquareClick={() => handleSquareClick(0)} />\r\n          <Square value={board[29]} onSquareClick={() => handleSquareClick(1)} />\r\n          <Square value={board[30]} onSquareClick={() => handleSquareClick(2)} />\r\n          <Square value={board[31]} onSquareClick={() => handleSquareClick(3)} />\r\n          <Square value={board[32]} onSquareClick={() => handleSquareClick(4)} />\r\n          <Square value={board[33]} onSquareClick={() => handleSquareClick(5)} />\r\n          <Square value={board[34]} onSquareClick={() => handleSquareClick(6)} />\r\n        </div>\r\n        <div className=\"board-row\">\r\n          <Square value={board[35]} onSquareClick={() => handleSquareClick(0)} />\r\n          <Square value={board[36]} onSquareClick={() => handleSquareClick(1)} />\r\n          <Square value={board[37]} onSquareClick={() => handleSquareClick(2)} />\r\n          <Square value={board[38]} onSquareClick={() => handleSquareClick(3)} />\r\n          <Square value={board[39]} onSquareClick={() => handleSquareClick(4)} />\r\n          <Square value={board[40]} onSquareClick={() => handleSquareClick(5)} />\r\n          <Square value={board[41]} onSquareClick={() => handleSquareClick(6)} />\r\n        </div>\r\n      </div>\r\n      <div>{confettiVisible && <Confetti />}</div>\r\n      <div><button className=\"quit-button px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600\" onClick={() => quitGame()}>Quit Game</button></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Square({ value, onSquareClick }: { value: number, onSquareClick: () => void }) {\r\n  return <button className={`disc disc-${value}`} onClick={onSquareClick}></button>;\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1287, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/components/connectFour.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useCallback } from 'react';\r\nimport { useAppState } from '../hooks/useAppState';\r\nimport Lobby from './lobby';\r\nimport Board from './board';\r\nimport { useSocketConnection } from '../hooks/useSocketConnection';\r\n\r\nexport default function ConnectFour() {\r\n  const {\r\n    gameStatus,\r\n    setGameStatus,\r\n    message,\r\n    setMessage,\r\n    roomId,\r\n    setRoomId,\r\n    currentPlayer,\r\n    setCurrentPlayer,\r\n    setJustQuitGame\r\n  } = useAppState();\r\n\r\n  const joinGame = (gameId: number | null, playerId: number | null) => {\r\n    // Switch from Lobby to Board\r\n    setRoomId(gameId);\r\n    setCurrentPlayer(playerId);\r\n    setGameStatus('playing');\r\n  };\r\n\r\n  const quitGame = (gameId: number | null, playerId: number | null) => {\r\n    // Switch from Board to Lobby\r\n    setJustQuitGame(true);\r\n    setGameStatus('lobby');\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-8\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-4xl w-full\">\r\n        <h1 className=\"text-4xl font-bold text-center mb-8 text-gray-800\">\r\n          Connect Four Multiplayer\r\n        </h1>\r\n        <h2 className=\"mb-6 text-gray-600\">\r\n          {message}\r\n        </h2>\r\n\r\n        {gameStatus === 'lobby' && (\r\n          <Lobby enterGame={joinGame} setMessage={setMessage}/>\r\n        )}\r\n\r\n        {(gameStatus === 'playing') && (\r\n          <Board gameId={roomId} playerId={currentPlayer} setMessage={setMessage} leaveGame={quitGame} />\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAQe,SAAS;;IACtB,MAAM,EACJ,UAAU,EACV,aAAa,EACb,OAAO,EACP,UAAU,EACV,MAAM,EACN,SAAS,EACT,aAAa,EACb,gBAAgB,EAChB,eAAe,EAChB,GAAG,IAAA,8JAAW;IAEf,MAAM,WAAW,CAAC,QAAuB;QACvC,6BAA6B;QAC7B,UAAU;QACV,iBAAiB;QACjB,cAAc;IAChB;IAEA,MAAM,WAAW,CAAC,QAAuB;QACvC,6BAA6B;QAC7B,gBAAgB;QAChB,cAAc;IAChB;IAEA,qBACE,uMAAC;QAAI,WAAU;kBACb,cAAA,uMAAC;YAAI,WAAU;;8BACb,uMAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAGlE,uMAAC;oBAAG,WAAU;8BACX;;;;;;gBAGF,eAAe,yBACd,uMAAC,0JAAK;oBAAC,WAAW;oBAAU,YAAY;;;;;;gBAGxC,eAAe,2BACf,uMAAC,0JAAK;oBAAC,QAAQ;oBAAQ,UAAU;oBAAe,YAAY;oBAAY,WAAW;;;;;;;;;;;;;;;;;AAM7F;GA/CwB;;QAWlB,8JAAW;;;KAXO","debugId":null}}]
}