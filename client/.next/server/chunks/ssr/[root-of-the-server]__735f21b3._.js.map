{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useAppState.ts"],"sourcesContent":["import { GameStatus } from \"../types/game.types\";\r\nimport { useState } from 'react';\r\n\r\nexport const useAppState = () => {\r\n  const [gameStatus, setGameStatus] = useState<GameStatus>('lobby');\r\n  const [roomId, setRoomId] = useState<number | null>(null);\r\n  const [message, setMessage] = useState('');\r\n  const [currentPlayer, setCurrentPlayer] = useState<number | null>(null);\r\n  const [justQuitGame, setJustQuitGame] = useState<boolean>(false);\r\n\r\n  return {\r\n    gameStatus,\r\n    setGameStatus,\r\n    message,\r\n    setMessage,\r\n    roomId,\r\n    setRoomId,\r\n    currentPlayer,\r\n    setCurrentPlayer,\r\n    justQuitGame,\r\n    setJustQuitGame,\r\n  };\r\n};"],"names":[],"mappings":";;;;AACA;;AAEO,MAAM,cAAc;IACzB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,2NAAQ,EAAa;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,2NAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2NAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,2NAAQ,EAAgB;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,2NAAQ,EAAU;IAE1D,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/config/api.config.ts"],"sourcesContent":["export const API_CONFIG = {\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,aAAa;IACxB,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/utils/apiClient.ts"],"sourcesContent":["import { ApiResponse, ApiError } from '../types/api.types';\r\nimport { API_CONFIG } from '../config/api.config';\r\n\r\nclass ApiClient {\r\n  private baseURL: string;\r\n  private timeout: number;\r\n  private defaultHeaders: Record<string, string>;\r\n\r\n  constructor(baseURL: string, timeout: number, headers: Record<string, string>) {\r\n    this.baseURL = baseURL;\r\n    this.timeout = timeout;\r\n    this.defaultHeaders = headers;\r\n  }\r\n\r\n  private async request<T>(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), this.timeout);\r\n\r\n    try {\r\n      const response = await fetch(`${this.baseURL}${endpoint}`, {\r\n        ...options,\r\n        headers: {\r\n          ...this.defaultHeaders,\r\n          ...options.headers,\r\n        },\r\n        signal: controller.signal,\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (!response.ok) {\r\n        const error: ApiError = await response.json();\r\n        throw new Error(error.message || 'API request failed');\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n      \r\n      if (error instanceof Error) {\r\n        if (error.name === 'AbortError') {\r\n          throw new Error('Request timeout');\r\n        }\r\n        throw error;\r\n      }\r\n      throw new Error('Unknown error occurred');\r\n    }\r\n  }\r\n\r\n  async get<T>(endpoint: string, params?: Record<string, string>): Promise<ApiResponse<T>> {\r\n    const queryString = params\r\n      ? '?' + new URLSearchParams(params).toString()\r\n      : '';\r\n    return this.request<T>(`${endpoint}${queryString}`, {\r\n      method: 'GET',\r\n    });\r\n  }\r\n\r\n  async post<T>(endpoint: string, data?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async put<T>(endpoint: string, data?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async delete<T>(endpoint: string): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async patch<T>(endpoint: string, data?: unknown): Promise<ApiResponse<T>> {\r\n    return this.request<T>(endpoint, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient(\r\n  API_CONFIG.baseURL,\r\n  API_CONFIG.timeout,\r\n  API_CONFIG.headers\r\n);\r\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM;IACI,QAAgB;IAChB,QAAgB;IAChB,eAAuC;IAE/C,YAAY,OAAe,EAAE,OAAe,EAAE,OAA+B,CAAE;QAC7E,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,cAAc,GAAG;IACxB;IAEA,MAAc,QACZ,QAAgB,EAChB,UAAuB,CAAC,CAAC,EACA;QACzB,MAAM,aAAa,IAAI;QACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI,IAAI,CAAC,OAAO;QAEnE,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,EAAE;gBACzD,GAAG,OAAO;gBACV,SAAS;oBACP,GAAG,IAAI,CAAC,cAAc;oBACtB,GAAG,QAAQ,OAAO;gBACpB;gBACA,QAAQ,WAAW,MAAM;YAC3B;YAEA,aAAa;YAEb,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAkB,MAAM,SAAS,IAAI;gBAC3C,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;YACnC;YAEA,OAAO,MAAM,SAAS,IAAI;QAC5B,EAAE,OAAO,OAAO;YACd,aAAa;YAEb,IAAI,iBAAiB,OAAO;gBAC1B,IAAI,MAAM,IAAI,KAAK,cAAc;oBAC/B,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM;YACR;YACA,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,MAAM,IAAO,QAAgB,EAAE,MAA+B,EAA2B;QACvF,MAAM,cAAc,SAChB,MAAM,IAAI,gBAAgB,QAAQ,QAAQ,KAC1C;QACJ,OAAO,IAAI,CAAC,OAAO,CAAI,GAAG,WAAW,aAAa,EAAE;YAClD,QAAQ;QACV;IACF;IAEA,MAAM,KAAQ,QAAgB,EAAE,IAAc,EAA2B;QACvE,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,MAAM,IAAO,QAAgB,EAAE,IAAc,EAA2B;QACtE,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,MAAM,OAAU,QAAgB,EAA2B;QACzD,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;QACV;IACF;IAEA,MAAM,MAAS,QAAgB,EAAE,IAAc,EAA2B;QACxE,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAC/B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;AACF;AAEO,MAAM,YAAY,IAAI,UAC3B,6JAAU,CAAC,OAAO,EAClB,6JAAU,CAAC,OAAO,EAClB,6JAAU,CAAC,OAAO","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/services/lobbyAPIService.ts"],"sourcesContent":["import { apiClient } from '../utils/apiClient';\r\nimport { ApiResponse } from '../types/api.types';\r\nimport { GameIndexDTO, GameStateDTO } from '../types/game.types';\r\n\r\nexport class LobbyAPIService {\r\n  private readonly basePath = '/lobby';\r\n\r\n    async getGames(): Promise<ApiResponse<GameIndexDTO[]>> {\r\n        return apiClient.get<GameIndexDTO[]>(`${this.basePath}`);\r\n    }\r\n\r\n    async createGame(gameName: string): Promise<ApiResponse<GameIndexDTO>> {\r\n        return apiClient.post<GameIndexDTO>(`${this.basePath}/create`, {\r\n            gameName,\r\n        });\r\n    }\r\n\r\n    async joinGame(playerId: number, gameId: number): Promise<ApiResponse<GameStateDTO>> {\r\n        return apiClient.post<GameStateDTO>(`${this.basePath}/join`, {\r\n            playerId,\r\n            gameId,\r\n        });\r\n    }\r\n\r\n    async quitGame(playerId: number, gameId: number): Promise<ApiResponse<void>> {\r\n        return apiClient.post<void>(`${this.basePath}/quit`, {\r\n            playerId,\r\n            gameId,\r\n        });\r\n    }\r\n}\r\n\r\nexport const lobbyApiService = new LobbyAPIService();"],"names":[],"mappings":";;;;;;AAAA;;AAIO,MAAM;IACM,WAAW,SAAS;IAEnC,MAAM,WAAiD;QACnD,OAAO,uJAAS,CAAC,GAAG,CAAiB,GAAG,IAAI,CAAC,QAAQ,EAAE;IAC3D;IAEA,MAAM,WAAW,QAAgB,EAAsC;QACnE,OAAO,uJAAS,CAAC,IAAI,CAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YAC3D;QACJ;IACJ;IAEA,MAAM,SAAS,QAAgB,EAAE,MAAc,EAAsC;QACjF,OAAO,uJAAS,CAAC,IAAI,CAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YACzD;YACA;QACJ;IACJ;IAEA,MAAM,SAAS,QAAgB,EAAE,MAAc,EAA8B;QACzE,OAAO,uJAAS,CAAC,IAAI,CAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YACjD;YACA;QACJ;IACJ;AACJ;AAEO,MAAM,kBAAkB,IAAI","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useLobbySocket.ts"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\ninterface LobbySocketCallbacks {\r\n  onGameCreated: (data: { roomName: string; gameId: number }) => void;\r\n  onPlayerJoined: (data: { gameId: number; playerId: number }) => void;\r\n  onPlayerQuit: (data: { gameId: number; playerId: number }) => void;\r\n}\r\n\r\nexport const useLobbySocket = (socket: Socket | null, callbacks: LobbySocketCallbacks) => {\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on('gameCreated', callbacks.onGameCreated);\r\n    socket.on('playerJoined', callbacks.onPlayerJoined);\r\n    socket.on('playerQuit', callbacks.onPlayerQuit);\r\n\r\n    return () => {\r\n      socket.off('gameCreated', callbacks.onGameCreated);\r\n      socket.off('playerJoined', callbacks.onPlayerJoined);\r\n      socket.off('playerQuit', callbacks.onPlayerQuit);\r\n    };\r\n  }, [socket, callbacks]);\r\n\r\n  const createGame = (name: string) => {\r\n    socket?.emit('createGame', { name });\r\n  };\r\n\r\n  const joinGame = (roomId: number, playerId: number) => {\r\n    socket?.emit('joinGame', { roomId: roomId, playerId: playerId });\r\n  };\r\n\r\n  const quitGame = (roomId: number, playerId: number) => {\r\n    socket?.emit('quitGame', { roomId, playerId });\r\n  }\r\n\r\n  return { createGame, joinGame, quitGame };\r\n};"],"names":[],"mappings":";;;;AAAA;;AASO,MAAM,iBAAiB,CAAC,QAAuB;IAEpD,IAAA,4NAAS,EAAC;QACR,IAAI,CAAC,QAAQ;QAEb,OAAO,EAAE,CAAC,eAAe,UAAU,aAAa;QAChD,OAAO,EAAE,CAAC,gBAAgB,UAAU,cAAc;QAClD,OAAO,EAAE,CAAC,cAAc,UAAU,YAAY;QAE9C,OAAO;YACL,OAAO,GAAG,CAAC,eAAe,UAAU,aAAa;YACjD,OAAO,GAAG,CAAC,gBAAgB,UAAU,cAAc;YACnD,OAAO,GAAG,CAAC,cAAc,UAAU,YAAY;QACjD;IACF,GAAG;QAAC;QAAQ;KAAU;IAEtB,MAAM,aAAa,CAAC;QAClB,QAAQ,KAAK,cAAc;YAAE;QAAK;IACpC;IAEA,MAAM,WAAW,CAAC,QAAgB;QAChC,QAAQ,KAAK,YAAY;YAAE,QAAQ;YAAQ,UAAU;QAAS;IAChE;IAEA,MAAM,WAAW,CAAC,QAAgB;QAChC,QAAQ,KAAK,YAAY;YAAE;YAAQ;QAAS;IAC9C;IAEA,OAAO;QAAE;QAAY;QAAU;IAAS;AAC1C","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/components/lobby.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useCallback, useState, useEffect } from \"react\";\r\nimport type { GameIndexDTO } from \"../types/game.types\";\r\nimport { lobbyApiService } from \"../services/lobbyAPIService\";\r\nimport { useLobbySocket } from \"../hooks/useLobbySocket\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport { useAppState } from \"../hooks/useAppState\";\r\n\r\nexport default function Lobby({ enterGame, setMessage, socket }: { enterGame: (gameId: number | null, playerId: number | null) => void, setMessage: (message: string) => void, socket: Socket | null }) {\r\n    const {\r\n        roomId,\r\n        setRoomId,\r\n        currentPlayer,\r\n        setCurrentPlayer,\r\n        justQuitGame,\r\n        setJustQuitGame,\r\n    } = useAppState();\r\n\r\n    const [games, setGames] = useState<GameIndexDTO[]>([]);\r\n    const [isLoading, setIsLoading] = useState<boolean>(true);\r\n\r\n  // Lobby-specific socket events and actions\r\n    const { createGame, joinGame, quitGame } = useLobbySocket(socket, {\r\n    onGameCreated: useCallback(({ roomName, gameId }) => {\r\n      //List new game in lobby\r\n      games.push({ id: gameId, name: roomName, players: 0 });\r\n      setMessage(`Game created! Room code: ${roomName}. Waiting for opponent...`);\r\n    }, [setMessage]),\r\n    onPlayerJoined: useCallback(({ gameId, playerId }) => {\r\n      //Update view with 2nd player\r\n      const game = games.find(game => game.id === gameId);\r\n      if (game) {\r\n        game.players += 1;\r\n      }\r\n      setMessage(`Player ${playerId} joined the game.`);\r\n    }, [setMessage]),\r\n    onPlayerQuit: useCallback(({ gameId, playerId }) => {\r\n      //Update view when a player quits\r\n      const game = games.find(game => game.id === gameId);\r\n      if (game) {\r\n        game.players -= 1;\r\n      }\r\n      setMessage(`Player ${playerId} quit the game.`);\r\n    }, [setMessage]),\r\n  });\r\n\r\n  const clickJoinGame = (gameId: number) => {\r\n    const game = games.find(game => game.id === gameId);\r\n    if(game === undefined || game.players > 1) return;\r\n    lobbyApiService.joinGame(game.players + 1, gameId).then(response => {\r\n        if(response.data){\r\n            setMessage(`Joined game ${gameId}!`);\r\n            setCurrentPlayer(game.players + 1);\r\n            setRoomId(gameId);\r\n            joinGame(gameId, game.players + 1);\r\n            enterGame(gameId, game.players + 1);\r\n        }\r\n    });\r\n  };\r\n\r\n  const makeGame = () => {\r\n    //Open prompt to create game\r\n    const gameName = prompt(\"Enter a name for your game:\");\r\n\r\n    if(!gameName && gameName !== \"\"){\r\n        return;\r\n    }\r\n\r\n    const tempName = `Game_${Math.floor(Math.random() * 1000)}`;\r\n\r\n    lobbyApiService.createGame(gameName ? gameName : tempName).then(response => {\r\n        if(response.data){\r\n            setMessage(`Game \"${gameName ? gameName : tempName}\" created!`);\r\n            createGame(gameName ? gameName : tempName);\r\n            games.push(response.data);\r\n            setGames(games);\r\n        }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(justQuitGame === true){\r\n      quitGame(roomId!, currentPlayer!);\r\n      setJustQuitGame(false);\r\n    }\r\n  }, [justQuitGame]);\r\n\r\n  useEffect(() => {  \r\n    console.log(\"Fetching games list from lobby...\");\r\n    lobbyApiService.getGames().then(response => {\r\n        console.log(\"Got lobby...\");\r\n        const newGames: GameIndexDTO[] = [];\r\n        if(response.data){\r\n            response.data.forEach(game => {\r\n                newGames.push(game);\r\n            });\r\n        }\r\n        setGames(newGames);\r\n        setIsLoading(false);\r\n        socket?.connect();\r\n    });\r\n  }, []);\r\n\r\n    return (\r\n        <div className=\"lobby text-black\">\r\n            { !isLoading && \r\n              <ul className=\"game-list\">\r\n                <GamesList games={ games } joinGame={clickJoinGame} />\r\n              </ul>\r\n            }\r\n            <button className=\"lobby-button px-4 py-2 border rounded bg-blue-500 text-white hover:bg-blue-600\" onClick={() => makeGame()}>Create Game</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function GamesList({ games, joinGame }: { games: GameIndexDTO[], joinGame: (gameId: number) => void }) {\r\n  return (\r\n    <div className=\"grid grid-cols-[1fr_auto_auto] gap-4 items-center mb-4\">\r\n      {/* Header Row */}\r\n      <div className=\"font-bold\">Game Name</div>\r\n      <div className=\"font-bold\">Players</div>\r\n      <div className=\"font-bold\">Action</div>\r\n      \r\n      {/* Game Rows */}\r\n      {games.map(game => (\r\n        <>\r\n          <div key={`${game.id}-name`}>{game.name}</div>\r\n          <div key={`${game.id}-players`}>{game.players ?? 0}/2</div>\r\n          <button \r\n            key={`${game.id}-button`}\r\n            className=\"join-button px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600\" \r\n            onClick={() => joinGame(game.id)}\r\n          >\r\n            Join\r\n          </button>\r\n        </>\r\n      ))}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/services/gameAPIService.ts"],"sourcesContent":["import { apiClient } from '../utils/apiClient';\r\nimport { ApiResponse } from '../types/api.types';\r\nimport { GameStateDTO } from '../types/game.types';\r\n\r\nexport class GameService {\r\n  private readonly basePath = '/game';\r\n\r\n    async getGame(gameId: number): Promise<ApiResponse<GameStateDTO>> {\r\n        return apiClient.get<GameStateDTO>(`${this.basePath}/${gameId}`);\r\n    }\r\n\r\n    async updateGameState(gameId: number, move: number, playerId: number): Promise<ApiResponse<number>> {\r\n    return apiClient.post<number>(`${this.basePath}/updateGameState`, {\r\n        gameId, \r\n        move,\r\n        playerId,\r\n        });\r\n    }\r\n\r\n    async quitGame(gameId: number, playerId: number): Promise<ApiResponse<number>> {\r\n      return apiClient.post<number>(`${this.basePath}/quitGame`, {\r\n        gameId: gameId,\r\n        playerId: playerId,\r\n      });\r\n    }\r\n}\r\n\r\nexport const gameApiService = new GameService();"],"names":[],"mappings":";;;;;;AAAA;;AAIO,MAAM;IACM,WAAW,QAAQ;IAElC,MAAM,QAAQ,MAAc,EAAsC;QAC9D,OAAO,uJAAS,CAAC,GAAG,CAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ;IACnE;IAEA,MAAM,gBAAgB,MAAc,EAAE,IAAY,EAAE,QAAgB,EAAgC;QACpG,OAAO,uJAAS,CAAC,IAAI,CAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YAC9D;YACA;YACA;QACA;IACJ;IAEA,MAAM,SAAS,MAAc,EAAE,QAAgB,EAAgC;QAC7E,OAAO,uJAAS,CAAC,IAAI,CAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YACzD,QAAQ;YACR,UAAU;QACZ;IACF;AACJ;AAEO,MAAM,iBAAiB,IAAI","debugId":null}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useGameSocket.ts"],"sourcesContent":["// Hook specifically for in-game socket events\r\nimport { useEffect } from 'react';\r\nimport { Socket } from 'socket.io-client';\r\nimport { GameStateDTO } from '../types/game.types';\r\n\r\ninterface GameSocketCallbacks {\r\n    onGameStateUpdate: (data: { game: GameStateDTO }) => void;\r\n    onPlayerJoinedGame: (data: { gameId: number; playerId: number }) => void;\r\n    onPlayerQuitGame: (data: { gameId: number; playerId: number }) => void;\r\n}\r\n\r\nexport const useGameSocket = (\r\n  socket: Socket | null,\r\n  callbacks: GameSocketCallbacks\r\n) => {\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on('gameStateUpdate', callbacks.onGameStateUpdate);\r\n    socket.on('playerJoinedGame', callbacks.onPlayerJoinedGame);\r\n    socket.on('playerQuitGame', callbacks.onPlayerQuitGame);\r\n\r\n    return () => {\r\n      socket.off('gameStateUpdate', callbacks.onGameStateUpdate);\r\n      socket.off('playerJoinedGame', callbacks.onPlayerJoinedGame);\r\n      socket.off('playerQuitGame', callbacks.onPlayerQuitGame);\r\n    };\r\n  }, [socket, callbacks]);\r\n\r\n  const playerJoinedGame = (playerId: number) => {\r\n    socket?.emit('playerJoinedGame', { playerId });\r\n  };\r\n\r\n  const playerQuitGame = (playerId: number) => {\r\n    socket?.emit('playerQuitGame', { playerId });\r\n  };\r\n\r\n  const updateGameState = (gameState: GameStateDTO) => {\r\n    socket?.emit('gameStateUpdate', { gameState });\r\n  };\r\n\r\n  return { playerJoinedGame, playerQuitGame,updateGameState };\r\n};\r\n"],"names":[],"mappings":"AAAA,8CAA8C;;;;;AAC9C;;AAUO,MAAM,gBAAgB,CAC3B,QACA;IAEA,IAAA,4NAAS,EAAC;QACR,IAAI,CAAC,QAAQ;QAEb,OAAO,EAAE,CAAC,mBAAmB,UAAU,iBAAiB;QACxD,OAAO,EAAE,CAAC,oBAAoB,UAAU,kBAAkB;QAC1D,OAAO,EAAE,CAAC,kBAAkB,UAAU,gBAAgB;QAEtD,OAAO;YACL,OAAO,GAAG,CAAC,mBAAmB,UAAU,iBAAiB;YACzD,OAAO,GAAG,CAAC,oBAAoB,UAAU,kBAAkB;YAC3D,OAAO,GAAG,CAAC,kBAAkB,UAAU,gBAAgB;QACzD;IACF,GAAG;QAAC;QAAQ;KAAU;IAEtB,MAAM,mBAAmB,CAAC;QACxB,QAAQ,KAAK,oBAAoB;YAAE;QAAS;IAC9C;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,KAAK,kBAAkB;YAAE;QAAS;IAC5C;IAEA,MAAM,kBAAkB,CAAC;QACvB,QAAQ,KAAK,mBAAmB;YAAE;QAAU;IAC9C;IAEA,OAAO;QAAE;QAAkB;QAAe;IAAgB;AAC5D","debugId":null}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/components/board.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { gameApiService } from \"../services/gameAPIService\";\r\nimport Confetti from \"canvas-confetti\";\r\nimport { useGameSocket } from \"../hooks/useGameSocket\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport { useAppState } from \"../hooks/useAppState\";\r\n\r\nexport default function Board({ gameId, playerId, setMessage, leaveGame, socket }: { gameId: number | null; playerId: number | null; setMessage: (message: string) => void; leaveGame: (gameId: number | null, playerId: number | null) => void; socket: Socket | null; }) {\r\n\r\n    const currGameId = gameId!;\r\n    const currPlayerId = playerId!;\r\n\r\n    const { playerJoinedGame, playerQuitGame, updateGameState } = useGameSocket(socket, {\r\n    onPlayerJoinedGame(data) {\r\n      setMessage(`Player ${data.playerId} joined the game.`);\r\n    },\r\n    onPlayerQuitGame(data) {\r\n      setMessage(`Player ${data.playerId} quit the game.`);\r\n    },\r\n    onGameStateUpdate: (data) => {\r\n      setBoard(data.game.board);\r\n      setRowTop(findRowTop(data.game.board));\r\n      if(data.game.turn > 2){\r\n        endGame(data.game.turn);\r\n      }\r\n    }\r\n  });\r\n\r\n    //Update to use existing game state\r\n    const [board, setBoard] = useState<number[]>(Array(42));\r\n    const [rowTop, setRowTop] = useState(Array(7));\r\n    const [turn, setTurn] = useState(1);\r\n    const [confettiVisible, setConfettiVisible] = useState(false);\r\n    \r\n    useEffect(() => {\r\n      socket?.connect();\r\n      playerJoinedGame(currPlayerId);\r\n\r\n      //Make API call for board state\r\n      gameApiService.getGame(currGameId).then(response => {\r\n        setBoard(response.data.board);\r\n        setTurn(response.data.turn);\r\n        setRowTop(findRowTop(response.data.board));\r\n      });\r\n    }, []);\r\n\r\n    function findRowTop(board: number[]): number[] {\r\n        const tops: number[] = [];\r\n        for (let col = 0; col < 7; col++) {\r\n            let top = 5; // Start from the bottom row\r\n            while (top >= 0 && board[col + (top * 7)] !== 0) {\r\n                top--;\r\n            }\r\n            tops[col] = top;\r\n        }\r\n        return tops;\r\n    }\r\n\r\n    function findSingleRowTop(board: number[], column: number): number {\r\n        let top = 5; // Start from the bottom row\r\n        while (top >= 0 && board[column + (top * 7)] !== 0) {\r\n            top--;\r\n        }\r\n        return top;\r\n    }\r\n\r\n    function quitGame(){\r\n      gameApiService.quitGame(currGameId, currPlayerId).then(() => {\r\n        setMessage(`You quit the game.`);\r\n        playerQuitGame(currPlayerId); \r\n        leaveGame(currGameId, currPlayerId);\r\n      });\r\n    }\r\n\r\n    function handleSquareClick(column: number) {\r\n        if(turn !== currPlayerId) return; // not this player's turn\r\n\r\n        const id = column + (rowTop[column] * 7);\r\n\r\n        if(board[id] !== 0) return; // already filled\r\n\r\n        rowTop[column] -= 1;\r\n\r\n        // Submit new move to server here\r\n        gameApiService.updateGameState(currGameId, id, turn).then(response => {\r\n            const newSquares = board.slice();\r\n            newSquares[id] = turn;\r\n            setBoard(newSquares);\r\n            rowTop[column] = findSingleRowTop(newSquares, column);\r\n            setRowTop(rowTop);\r\n            updateGameState({ board: board, lastMove: id, turn: response.data });\r\n            if(response.data > 2){\r\n                endGame(currPlayerId);\r\n            }\r\n        });\r\n        \r\n        turn === 1 ? setTurn(2) : setTurn(1);\r\n    }\r\n\r\n    function endGame(player: number){\r\n        setConfettiVisible(true);\r\n        setTimeout(() => {\r\n            alert(`Player ${player} wins!`);\r\n            setConfettiVisible(false);\r\n        }, 300);\r\n\r\n        // Show exit option\r\n        prompt(\"Game over! Press OK to exit to lobby.\");\r\n        quitGame();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <div className={`current-turn-${turn}`}>Current Turn: Player {turn}</div>\r\n        <div className=\"board\">\r\n      <div className=\"board-row\">\r\n        <Square value={board[0]} onSquareClick={() => handleSquareClick(0)} />\r\n        <Square value={board[1]} onSquareClick={() => handleSquareClick(1)} />\r\n        <Square value={board[2]} onSquareClick={() => handleSquareClick(2)} />\r\n        <Square value={board[3]} onSquareClick={() => handleSquareClick(3)} />\r\n        <Square value={board[4]} onSquareClick={() => handleSquareClick(4)} />\r\n        <Square value={board[5]} onSquareClick={() => handleSquareClick(5)} />\r\n        <Square value={board[6]} onSquareClick={() => handleSquareClick(6)} />\r\n      </div>\r\n      <div className=\"board-row\">\r\n        <Square value={board[7]} onSquareClick={() => handleSquareClick(0)} />\r\n        <Square value={board[8]} onSquareClick={() => handleSquareClick(1)} />\r\n        <Square value={board[9]} onSquareClick={() => handleSquareClick(2)} />\r\n        <Square value={board[10]} onSquareClick={() => handleSquareClick(3)} />\r\n        <Square value={board[11]} onSquareClick={() => handleSquareClick(4)} />\r\n        <Square value={board[12]} onSquareClick={() => handleSquareClick(5)} />\r\n        <Square value={board[13]} onSquareClick={() => handleSquareClick(6)} />\r\n      </div>\r\n      <div className=\"board-row\">\r\n        <Square value={board[14]} onSquareClick={() => handleSquareClick(0)} />\r\n        <Square value={board[15]} onSquareClick={() => handleSquareClick(1)} />\r\n        <Square value={board[16]} onSquareClick={() => handleSquareClick(2)} />\r\n        <Square value={board[17]} onSquareClick={() => handleSquareClick(3)} />\r\n        <Square value={board[18]} onSquareClick={() => handleSquareClick(4)} />\r\n        <Square value={board[19]} onSquareClick={() => handleSquareClick(5)} />\r\n        <Square value={board[20]} onSquareClick={() => handleSquareClick(6)} />\r\n      </div>\r\n      <div className=\"board-row\">\r\n        <Square value={board[21]} onSquareClick={() => handleSquareClick(0)} />\r\n        <Square value={board[22]} onSquareClick={() => handleSquareClick(1)} />\r\n        <Square value={board[23]} onSquareClick={() => handleSquareClick(2)} />\r\n        <Square value={board[24]} onSquareClick={() => handleSquareClick(3)} />\r\n        <Square value={board[25]} onSquareClick={() => handleSquareClick(4)} />\r\n        <Square value={board[26]} onSquareClick={() => handleSquareClick(5)} />\r\n        <Square value={board[27]} onSquareClick={() => handleSquareClick(6)} />\r\n      </div>\r\n        <div className=\"board-row\">\r\n        <Square value={board[28]} onSquareClick={() => handleSquareClick(0)} />\r\n        <Square value={board[29]} onSquareClick={() => handleSquareClick(1)} />\r\n        <Square value={board[30]} onSquareClick={() => handleSquareClick(2)} />\r\n        <Square value={board[31]} onSquareClick={() => handleSquareClick(3)} />\r\n        <Square value={board[32]} onSquareClick={() => handleSquareClick(4)} />\r\n        <Square value={board[33]} onSquareClick={() => handleSquareClick(5)} />\r\n        <Square value={board[34]} onSquareClick={() => handleSquareClick(6)} />\r\n      </div>\r\n    <div className=\"board-row\">\r\n        <Square value={board[35]} onSquareClick={() => handleSquareClick(0)} />\r\n        <Square value={board[36]} onSquareClick={() => handleSquareClick(1)} />\r\n        <Square value={board[37]} onSquareClick={() => handleSquareClick(2)} />\r\n        <Square value={board[38]} onSquareClick={() => handleSquareClick(3)} />\r\n        <Square value={board[39]} onSquareClick={() => handleSquareClick(4)} />\r\n        <Square value={board[40]} onSquareClick={() => handleSquareClick(5)} />\r\n        <Square value={board[41]} onSquareClick={() => handleSquareClick(6)} />\r\n      </div>\r\n    </div>\r\n    <div>{confettiVisible && <Confetti />}</div>\r\n    <div><button className=\"quit-button px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600\" onClick={() => quitGame()}>Quit Game</button></div>\r\n    </div>\r\n    );\r\n}\r\n\r\nfunction Square({ value, onSquareClick }: { value: number, onSquareClick: () => void }){\r\n  return <button className={`disc disc-${value}`} onClick={onSquareClick}></button>;\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1161, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/hooks/useSocketConnection.ts"],"sourcesContent":["// Base hook that manages the socket connection itself\r\nimport { useEffect, useState } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\nexport const useSocketConnection = () => {\r\n  const [socket, setSocket] = useState<Socket | null>(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const newSocket = io('http://localhost:3001');\r\n    setSocket(newSocket);\r\n\r\n    newSocket.on('connect', () => {\r\n      setIsConnected(true);\r\n      console.log('Socket connected');\r\n    });\r\n\r\n    newSocket.on('disconnect', () => {\r\n      setIsConnected(false);\r\n      console.log('Socket disconnected');\r\n    });\r\n\r\n    return () => {\r\n      newSocket.close();\r\n    };\r\n  }, []);\r\n\r\n  return { socket, isConnected };\r\n};\r\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;AACtD;AACA;;;AAEO,MAAM,sBAAsB;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,2NAAQ,EAAgB;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2NAAQ,EAAC;IAE/C,IAAA,4NAAS,EAAC;QACR,MAAM,YAAY,IAAA,wMAAE,EAAC;QACrB,UAAU;QAEV,UAAU,EAAE,CAAC,WAAW;YACtB,eAAe;YACf,QAAQ,GAAG,CAAC;QACd;QAEA,UAAU,EAAE,CAAC,cAAc;YACzB,eAAe;YACf,QAAQ,GAAG,CAAC;QACd;QAEA,OAAO;YACL,UAAU,KAAK;QACjB;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAQ;IAAY;AAC/B","debugId":null}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":["file:///F:/DevelopmentProjects/ConnectFour/client/src/app/components/connectFour.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useCallback } from 'react';\r\nimport { useAppState } from '../hooks/useAppState';\r\nimport Lobby from './lobby';\r\nimport Board from './board';\r\nimport { useSocketConnection } from '../hooks/useSocketConnection';\r\n\r\nexport default function ConnectFour() {\r\n  const {\r\n    gameStatus,\r\n    setGameStatus,\r\n    message,\r\n    setMessage,\r\n    roomId,\r\n    setRoomId,\r\n    currentPlayer,\r\n    setCurrentPlayer,\r\n    setJustQuitGame\r\n  } = useAppState();\r\n\r\n  const { socket, isConnected } = useSocketConnection();\r\n\r\n  const joinGame = (gameId: number | null, playerId: number | null) => {\r\n    // Switch from Lobby to Board\r\n    socket?.disconnect();\r\n    setGameStatus('playing');\r\n    setRoomId(gameId);\r\n    setCurrentPlayer(playerId);\r\n  };\r\n\r\n  const quitGame = (gameId: number | null, playerId: number | null) => {\r\n    socket?.disconnect();\r\n    // Switch from Board to Lobby\r\n    setJustQuitGame(true);\r\n    setGameStatus('lobby');\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-8\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-4xl w-full\">\r\n        <h1 className=\"text-4xl font-bold text-center mb-8 text-gray-800\">\r\n          Connect Four Multiplayer\r\n        </h1>\r\n\r\n        <h2>\r\n          {message}\r\n        </h2>\r\n\r\n        {gameStatus === 'lobby' && (\r\n          <Lobby enterGame={joinGame} setMessage={setMessage} socket={socket} />\r\n        )}\r\n\r\n        {(gameStatus === 'playing') && (\r\n          <Board gameId={roomId} playerId={currentPlayer} setMessage={setMessage} leaveGame={quitGame} socket={socket} />\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AAQe,SAAS;IACtB,MAAM,EACJ,UAAU,EACV,aAAa,EACb,OAAO,EACP,UAAU,EACV,MAAM,EACN,SAAS,EACT,aAAa,EACb,gBAAgB,EAChB,eAAe,EAChB,GAAG,IAAA,2JAAW;IAEf,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,2KAAmB;IAEnD,MAAM,WAAW,CAAC,QAAuB;QACvC,6BAA6B;QAC7B,QAAQ;QACR,cAAc;QACd,UAAU;QACV,iBAAiB;IACnB;IAEA,MAAM,WAAW,CAAC,QAAuB;QACvC,QAAQ;QACR,6BAA6B;QAC7B,gBAAgB;QAChB,cAAc;IAChB;IAEA,qBACE,wPAAC;QAAI,WAAU;kBACb,cAAA,wPAAC;YAAI,WAAU;;8BACb,wPAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAIlE,wPAAC;8BACE;;;;;;gBAGF,eAAe,yBACd,wPAAC,uJAAK;oBAAC,WAAW;oBAAU,YAAY;oBAAY,QAAQ;;;;;;gBAG5D,eAAe,2BACf,wPAAC,uJAAK;oBAAC,QAAQ;oBAAQ,UAAU;oBAAe,YAAY;oBAAY,WAAW;oBAAU,QAAQ;;;;;;;;;;;;;;;;;AAM/G","debugId":null}}]
}